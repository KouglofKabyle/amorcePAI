<!-- <md-toolbar class="titre">{{ $ctrl.titre }}</md-toolbar> -->

<!-- Afficher la liste des patients pour chaque Infirmier -->
<md-content class="md-whiteframe-2dp" ng-cloak>


  <md-toolbar >
    <div class="md-toolbar-tools">

      <h2>
        <span>Gestion des infimiers </span>
      </h2>
      <span flex></span>

      <md-button ng-click= "$ctrl.showFormulaire()" class="md-icon-button" aria-label="More">
        <md-icon md-svg-icon="../../images/arrow_down.svg"></md-icon>
      </md-button>

    </div>
  </md-toolbar>

  <md-content class="md-padding">
      <md-tabs md-selected="selectedIndex" md-border-bottom md-autoselect>
        	<md-tab
              ng-repeat="inf in $ctrl.data.objectInfirmiers"
              ng-disabled="tab.disabled"
              label="{{inf.nom | uppercase}} {{inf.prenom}}">
          	<md-content
              class="md-padding","demo-tab","tab-content"
              layout="row">
            		<md-list
                  ng-repeat="patientX in inf.patients"
                  layout="row">
                      <md-content layout="column">
                        <!-- affiche un patient -->
              					<patient data="patientX" layout-padding></patient>
                        <!-- actions sur un patient -->
                        <div class="lock-size" layout="row" layout-align="center center">
                          <md-fab-speed-dial
                              md-direction="up"
                              ng-class="md-scale"
                              md-open="$ctrl.isOpen">
                            <md-fab-trigger>
                              <md-button aria-label="menu" class="md-fab md-warn">
                                <md-icon md-svg-src="img/icons/menu.svg"></md-icon>
                              </md-button>
                            </md-fab-trigger>
                            <md-fab-actions>
                                <md-button
                                  class="md-fab md-raised md-mini"
                                  ng-click="$ctrl.modifierPatient(ev)"
                                  type="submit">
                                  Modifier</md-button>
                                <md-button
                                  class="md-fab md-raised md-mini"
                                  ng-click="$ctrl.desaffecterPatient(patientX)"
                                  type="submit">
                                  Désaffecter</md-button>
                                <md-button
                                  class="md-fab md-raised md-mini"
                                  ng-click="$ctrl.supprimerPatient(patientX)"
                                  type="submit">
                                  Supprimer</md-button>
                            </md-fab-actions>
                          </md-fab-speed-dial>
                        </div>
                        <md-divider ng-if="!$last"></md-divider>
                      </md-content>
            		</md-list-item>
  	        </md-content>
        	</md-tab>
      </md-tabs>
  </md-content>
  </br>


<!-- Ajouter un patient au tableau -->
  <md-toolbar >
    <div class="md-toolbar-tools">
      <h2><span>Ajouter un patient </span></h2>
      <span flex></span>
      <md-button ng-click= "$ctrl.showFormulaire()" class="md-icon-button" aria-label="More">
        	<md-icon md-svg-icon="../../images/arrow_down.svg"></md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-content class="md-padding" layout-align="center">
    <formulaire-new-patient
      data="$ctrl.data"
      ng-show="$ctrl.formulaire == true"
      on-validation="$ctrl.updateInfirmiers()"></formulaire-new-patient>
  </md-content>
  </br>


<!-- Liste des patients restants de patient restant -->
	<md-toolbar >
      <div class="md-toolbar-tools">
        <h2><span>Patients non affectés</span></h2>
        <span flex></span>

        <md-button ng-click= "$ctrl.showPatientsRestants()" class="md-icon-button" aria-label="More">
          <md-icon md-svg-icon="../../images/arrow_down.svg"></md-icon>
        </md-button>

      </div>
    </md-toolbar>

    <div ng-show="$ctrl.patientsRestants == true">
    	<md-grid-list
        md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6"
        md-row-height-gt-md="1:1" md-row-height="2:2"
        md-gutter="12px" md-gutter-gt-sm="8px" >
        	<md-grid-tile class="md-whiteframe-2dp" ng-repeat="patientY in $ctrl.data.objectPatients" ng-if="patientY.infirmier == null">
    			<patient data="patientY"></patient>
    		</md-grid-tile>
    	</md-grid-list>
    </div>


</md-content>







